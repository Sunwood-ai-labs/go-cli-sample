# 06. HTTP クライアント 🌐

## 📖 概要

Go で HTTP リクエストを送信する方法を学ぶよ〜！
Web API を叩いたり、外部サービスと連携する CLI ツールを作るときに必須のテクニックだよ✨

## 🎯 学べること

- `http.Get()` でシンプルな GET リクエスト 📡
- `io.ReadAll()` でレスポンスボディを読み取り 📖
- `json.Unmarshal()` で JSON をパース 🔄
- カスタム HTTP クライアントの作成 ⚙️
- タイムアウトの設定 ⏱️
- カスタムヘッダーの追加 📋
- ステータスコードのチェック ✅

## 💻 使い方

```bash
# このディレクトリに移動
cd examples/06-http-client

# 実行（インターネット接続が必要だよ！）
go run main.go
```

このサンプルは [JSONPlaceholder](https://jsonplaceholder.typicode.com/) という
無料の REST API を使ってるよ〜！練習に最適💕

## 📺 実行結果

**注意**: ネットワーク環境やアクセス制限によっては、API が 403 エラーを返す場合があるよ。
ローカル環境や制限のない環境で実行すれば正常に動作するよ！

### 正常に動作する場合

```bash
$ go run main.go
```

```
🌐 HTTP クライアントサンプル ✨
========================================

1️⃣ シンプルな GET リクエストを送るよ〜
✅ ステータスコード: 200 OK

2️⃣ レスポンスを読み取るよ〜
📄 レスポンスボディ:
----------------------------------------
{
  "id": 1,
  "name": "Leanne Graham",
  "username": "Bret",
  "email": "Sincere@april.biz",
  ...
}
----------------------------------------

3️⃣ JSON をパースするよ〜
👤 ユーザー情報:
  ID: 1
  名前: Leanne Graham
  ユーザー名: Bret
  メール: Sincere@april.biz
  ...

4️⃣ タイムアウト付きリクエストを送るよ〜
✅ ステータスコード: 200
✅ Content-Type: application/json; charset=utf-8

========================================
すべてのリクエストが完了したよ〜！🎉
```

### 制限環境での実行

一部の環境では API が 403 Forbidden を返す場合があるけど、コード自体は正しく動作しているよ！

## 🔥 ポイント

- **defer resp.Body.Close()**：レスポンスボディは必ず閉じること！これマジ大事🔥
- **http.Client**：タイムアウトやリトライなどをカスタマイズできるよ ⚙️
- **User-Agent**：API によっては User-Agent ヘッダーが必須の場合もあるよ 📌
- **エラーハンドリング**：ネットワークエラーとレスポンスエラーは別々に処理しよう！
- **ステータスコード**：`200 OK` 以外のステータスコードもチェックしてね 👀

## 📚 応用例

このテクニックを使えば、こんな CLI ツールが作れちゃう：

- GitHub API を叩いてリポジトリ情報を取得 🐙
- 天気情報 API を叩いて天気を表示 ☀️
- Slack API で通知を送信 💬
- データを外部サービスにアップロード 📤

HTTP クライアントは CLI ツールの可能性を無限に広げるよ〜！🚀✨
